[gd_scene load_steps=16 format=3 uid="uid://b6d5ttlwacwny"]

[ext_resource type="Script" uid="uid://d1dcepv2p8wv3" path="res://GameScenes/player_viewports.gd" id="2_fimsf"]
[ext_resource type="Script" uid="uid://b8dweplwcbn40" path="res://GameScenes/player_huds.gd" id="4_i5gbp"]
[ext_resource type="Script" uid="uid://cgt5j5xe5fe5a" path="res://game_world.gd" id="5_6ce2g"]
[ext_resource type="Script" uid="uid://lfy02wtbmoc0" path="res://Ship/ship.gd" id="5_q1v8x"]
[ext_resource type="Script" uid="uid://dl8qra4nvhch4" path="res://Ship/section_builder.gd" id="6_6ce2g"]
[ext_resource type="Script" uid="uid://bl3m0jtr0kvdb" path="res://HUD/hud.gd" id="6_68ns4"]
[ext_resource type="Script" uid="uid://d0pmrbwvyke8v" path="res://Ship/wall_builder.gd" id="7_cub2r"]
[ext_resource type="Script" uid="uid://7bp6m8is2glc" path="res://Ship/internal_system_builder.gd" id="8_x1q6r"]
[ext_resource type="Script" uid="uid://cpsruny863qje" path="res://Ship/connection_builder.gd" id="9_xqwsi"]
[ext_resource type="Script" uid="uid://bxxhfivskxbb1" path="res://Ship/external_system_builder.gd" id="10_pct3l"]
[ext_resource type="Texture2D" uid="uid://ch0iids6p2oxv" path="res://sprites/starmapBlip.png" id="11_b24d7"]
[ext_resource type="Script" uid="uid://dpsvvnvmud5v8" path="res://Items/physical_item_creator.gd" id="12_xjp2s"]
[ext_resource type="Script" uid="uid://b2egsoumhyk3y" path="res://GameScenes/global_system_counter.gd" id="13_i5gbp"]
[ext_resource type="Script" uid="uid://bpi5ko7fcipwy" path="res://Player/player_creator.gd" id="14_o2qad"]
[ext_resource type="Script" uid="uid://saqi3llcutei" path="res://GameScenes/sector_swapper.gd" id="15_6ce2g"]

[node name="Game" type="Node"]

[node name="HUD" type="Control" parent="." groups=["HUD"]]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("6_68ns4")

[node name="PlayerViewports" type="HBoxContainer" parent="HUD" groups=["PlayerViewPorts"]]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
alignment = 1
script = ExtResource("2_fimsf")

[node name="LeftPlayerView" type="SubViewportContainer" parent="HUD/PlayerViewports"]
layout_mode = 2
size_flags_horizontal = 3
stretch = true

[node name="SubViewport" type="SubViewport" parent="HUD/PlayerViewports/LeftPlayerView"]
handle_input_locally = false
size = Vector2i(638, 720)
render_target_update_mode = 4

[node name="RightPlayerView" type="SubViewportContainer" parent="HUD/PlayerViewports"]
layout_mode = 2
size_flags_horizontal = 3
stretch = true

[node name="SubViewport" type="SubViewport" parent="HUD/PlayerViewports/RightPlayerView"]
handle_input_locally = false
size = Vector2i(638, 720)
render_target_update_mode = 4

[node name="PlayerHuds" type="HBoxContainer" parent="HUD" groups=["PlayerHuds"]]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("4_i5gbp")

[node name="LeftPlayerHud" type="MarginContainer" parent="HUD/PlayerHuds"]
layout_mode = 2
size_flags_horizontal = 3

[node name="RightPlayerHud" type="MarginContainer" parent="HUD/PlayerHuds"]
layout_mode = 2
size_flags_horizontal = 3

[node name="GameWorld" type="SubViewport" parent="." groups=["GameWorld"]]
audio_listener_enable_2d = true
script = ExtResource("5_6ce2g")

[node name="Ship" type="RigidBody2D" parent="GameWorld" groups=["Ship"]]
gravity_scale = 0.0
center_of_mass_mode = 1
script = ExtResource("5_q1v8x")

[node name="SectionBuilder" type="Node2D" parent="GameWorld/Ship" groups=["SectionBuilder"]]
script = ExtResource("6_6ce2g")

[node name="WallBuilder" type="Node2D" parent="GameWorld/Ship/SectionBuilder"]
script = ExtResource("7_cub2r")

[node name="InternalSystemBuilder" type="Node2D" parent="GameWorld/Ship/SectionBuilder" groups=["InternalSystemBuilder"]]
script = ExtResource("8_x1q6r")

[node name="ConnectionBuilder" type="Node2D" parent="GameWorld/Ship" groups=["ConnectionBuilder"]]
script = ExtResource("9_xqwsi")

[node name="ExternalSystemBuilder" type="Node2D" parent="GameWorld/Ship" groups=["ExternalSystemBuilder"]]
script = ExtResource("10_pct3l")

[node name="Node2D" type="Node2D" parent="GameWorld/Ship"]

[node name="Sprite2D" type="Sprite2D" parent="GameWorld/Ship/Node2D"]
z_index = 4096
texture = ExtResource("11_b24d7")

[node name="ContainedItemCreator" type="Node2D" parent="GameWorld" groups=["ContainedItemCreator"]]
script = ExtResource("12_xjp2s")

[node name="GlobalSystemCounter" type="Node2D" parent="GameWorld"]
script = ExtResource("13_i5gbp")

[node name="PlayerCreator" type="Node2D" parent="GameWorld" groups=["PlayerCreator"]]
script = ExtResource("14_o2qad")

[node name="SectorSwapper" type="Node2D" parent="GameWorld"]
script = ExtResource("15_6ce2g")
